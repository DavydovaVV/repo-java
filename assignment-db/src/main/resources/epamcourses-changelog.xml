<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                   http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.3.xsd"
                   logicalFilePath="epamcourses-changelog.xml">
    <changeSet id="001" author="davydova">
        <sql>
            CREATE TABLE Supplier(
            SupplierId integer NOT NULL PRIMARY KEY,
            CompanyName varchar(40) NOT NULL,
            Phone varchar(20)
            )
        </sql>
        <sql>
            CREATE TABLE Customer(
            CustomerId integer NOT NULL PRIMARY KEY,
            CustomerName varchar(50) NOT NULL,
            Phone varchar(20)
            )
        </sql>
        <sql>
            CREATE TABLE "Order"(
            OrderId integer NOT NULL PRIMARY KEY,
            OrderNumber varchar(10),
            CustomerId integer NOT NULL,
            OrderDate timestamp NOT NULL,
            TotalAmount decimal(12,2) NOT NULL,
            FOREIGN KEY (CustomerId) REFERENCES Customer(CustomerId)
            )
        </sql>
        <sql>
            CREATE TABLE Product(
            ProductId integer NOT NULL PRIMARY KEY,
            ProductName varchar(50) NOT NULL,
            SupplierId integer NOT NULL,
            UnitPrice decimal(12,2),
            IsDisconnected BIT NOT NULL,
            FOREIGN KEY (SupplierId) REFERENCES Supplier(SupplierId)
            )
        </sql>
        <sql>
            CREATE TABLE OrderProduct(
            OrderId integer NOT NULL,
            ProductId integer NOT NULL,
            PRIMARY KEY (OrderId, ProductId),
            FOREIGN KEY (OrderId) REFERENCES "Order"(OrderId),
            FOREIGN KEY (ProductId) REFERENCES Product(ProductId)
            )
        </sql>
    </changeSet>
</databaseChangeLog>